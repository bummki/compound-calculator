<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì±Œë¦°ì§€ ë³µë¦¬ ê³„ì‚°ê¸°</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');

        body {
            font-family: 'Noto Sans KR', sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            color: #333;
            background-color: #f5f7fa;
        }

        .calculator {
            background-color: #fff;
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            margin-bottom: 30px;
        }

        h2 {
            font-weight: 700;
            color: #2c3e50;
            margin-top: 0;
            font-size: 24px;
            margin-bottom: 8px;
        }

        .calculator > p {
            color: #7f8c8d;
            margin-bottom: 25px;
            font-size: 15px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-weight: 500;
            margin-bottom: 8px;
            color: #34495e;
            font-size: 15px;
        }

        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e0e5ea;
            border-radius: 10px;
            box-sizing: border-box;
            font-family: 'Noto Sans KR', sans-serif;
            font-size: 15px;
            transition: all 0.3s ease;
            background-color: #f8fafc;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
            background-color: white;
        }

        button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
            font-weight: 500;
            transition: all 0.3s ease;
            font-family: 'Noto Sans KR', sans-serif;
            letter-spacing: 0.5px;
            margin-top: 10px;
            box-shadow: 0 4px 15px rgba(41, 128, 185, 0.3);
        }

        button:hover {
            background: linear-gradient(135deg, #2980b9, #2471a3);
            transform: translateY(-2px);
            box-shadow: 0 6px 18px rgba(41, 128, 185, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .result {
            margin-top: 30px;
            padding: 25px;
            background-color: #f8fafc;
            border-radius: 14px;
            display: none;
            border: 1px solid #eaeff5;
            box-shadow: 0 5px 15px rgba(0,0,0,0.03);
        }

        .result h3 {
            color: #2c3e50;
            margin-top: 0;
            font-weight: 600;
            font-size: 20px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eaeff5;
        }

        .result p {
            margin-bottom: 10px;
            color: #34495e;
            font-size: 15px;
        }

        .result p strong {
            color: #2c3e50;
            font-weight: 500;
        }

        .result p span {
            font-weight: 600;
            color: #16a085;
        }

        .progress-container {
            width: 100%;
            height: 8px;
            background-color: #ecf0f1;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            border-radius: 4px;
            background: linear-gradient(90deg, #2ecc71, #27ae60);
            width: 0;
            transition: width 1.5s cubic-bezier(0.19, 1, 0.22, 1);
        }

        /* í…Œì´ë¸” ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        .table-container {
            max-height: 400px; /* ë†’ì´ ì¦ê°€ */
            overflow-y: auto;
            margin-bottom: 20px;
            border-radius: 8px;
            border: 1px solid #eaeff5;
            position: relative; /* ì¶”ê°€ */
        }

        /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        #resultTable {
            width: 100%;
            border-collapse: collapse;
            background-color: white;
            table-layout: fixed; /* ì¶”ê°€: ì»¬ëŸ¼ ë„ˆë¹„ ê³ ì • */
        }

        /* í…Œì´ë¸” í—¤ë” ê³ ì • ìŠ¤íƒ€ì¼ */
        #resultTable thead {
            position: sticky;
            top: 0;
            z-index: 10;
        }

        /* í…Œì´ë¸” ì…€ ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        #resultTable th, #resultTable td {
            padding: 12px 8px; /* íŒ¨ë”© ì¤„ì„ */
            text-align: right;
            font-size: 14px;
            overflow: hidden; /* ì¶”ê°€: ì˜¤ë²„í”Œë¡œìš° ì²˜ë¦¬ */
            text-overflow: ellipsis; /* ì¶”ê°€: í…ìŠ¤íŠ¸ ì˜¤ë²„í”Œë¡œìš° ì²˜ë¦¬ */
            white-space: nowrap; /* ì¶”ê°€: ì¤„ë°”ê¿ˆ ë°©ì§€ */
        }

        /* ì»¬ëŸ¼ ë„ˆë¹„ ì§€ì • */
        #resultTable th:nth-child(1),
        #resultTable td:nth-child(1) {
            width: 15%; /* ì¼ì°¨ */
        }

        #resultTable th:nth-child(2),
        #resultTable td:nth-child(2),
        #resultTable th:nth-child(3),
        #resultTable td:nth-child(3),
        #resultTable th:nth-child(4),
        #resultTable td:nth-child(4) {
            width: 20%; /* ì›ê¸ˆ, ìˆ˜ìµ, ëˆ„ì ê¸ˆì•¡ */
        }

        #resultTable th:nth-child(5),
        #resultTable td:nth-child(5) {
            width: 25%; /* ì¡°ì–¸ & ì½”ë©˜íŠ¸ */
            text-align: left;
        }

        /* ëª¨ë°”ì¼ ìµœì í™” ì¶”ê°€ */
        @media (max-width: 500px) {
            .calculator {
                padding: 15px;
            }
            
            input, select, button {
                padding: 10px;
            }
            
            .result {
                padding: 15px;
            }
            
            #resultTable th, #resultTable td {
                padding: 8px 5px;
                font-size: 12px;
            }
            
            /* ëª¨ë°”ì¼ì—ì„œëŠ” ì½”ë©˜íŠ¸ ì»¬ëŸ¼ ìˆ¨ê¸°ê³  í† ê¸€ ë²„íŠ¼ í‘œì‹œ */
            #resultTable th:nth-child(5),
            #resultTable td:nth-child(5) {
                display: none;
            }
            
            /* ì»¬ëŸ¼ ë„ˆë¹„ ì¬ì¡°ì • (ëª¨ë°”ì¼) */
            #resultTable th:nth-child(1),
            #resultTable td:nth-child(1) {
                width: 20%;
            }
            
            #resultTable th:nth-child(2),
            #resultTable td:nth-child(2),
            #resultTable th:nth-child(3),
            #resultTable td:nth-child(3),
            #resultTable th:nth-child(4),
            #resultTable td:nth-child(4) {
                width: 26.66%;
            }
        }

        /* ì½”ë©˜íŠ¸ í† ê¸€ ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ëª¨ë°”ì¼ìš©) */
        .comment-toggle {
            display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
            margin-top: 10px;
            background-color: #3498db;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
        }

        @media (max-width: 500px) {
            .comment-toggle {
                display: block; /* ëª¨ë°”ì¼ì—ì„œë§Œ í‘œì‹œ */
            }
        }

        /* í…Œì´ë¸” í–‰ í˜¸ë²„ íš¨ê³¼ */
        #resultTable tbody tr:hover {
            background-color: #f0f8ff !important;
        }

        /* ë§ˆì¼ìŠ¤í†¤ í–‰ ìŠ¤íƒ€ì¼ ê°•í™” */
        #resultTable tr.milestone {
            background-color: #e8f6f3;
            font-weight: 500;
            border-left: 3px solid #16a085;
        }

        /* ì½”ë©˜íŠ¸ ì…€ í¬ë§·íŒ… ê°œì„  */
        .comment {
            color: #3498db;
            font-size: 13px;
            text-align: left !important;
            font-weight: 500;
            padding-left: 15px !important;
            white-space: normal !important; /* ì½”ë©˜íŠ¸ëŠ” ì¤„ë°”ê¿ˆ í—ˆìš© */
            line-height: 1.4;
        }

        .motivation {
            margin-top: 25px;
            padding: 18px 20px;
            background-color: #ebf5fb;
            border-left: 4px solid #3498db;
            border-radius: 4px;
            font-size: 14px;
            line-height: 1.5;
            color: #2980b9;
        }

        #motivationText {
            animation: highlight 2s ease-in-out;
        }

        #totalInterest {
            font-size: 17px;
            color: #27ae60;
        }

        #successRate {
            font-weight: 700;
            color: #e74c3c;
        }

        @keyframes highlight {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        .advice-box {
            margin-top: 25px;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            border: 1px solid #e6edf5;
        }

        .advice-box h4 {
            margin-top: 0;
            color: #2c3e50;
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 15px;
        }

        .advice-box ul {
            padding-left: 20px;
            margin-bottom: 0;
        }

        .advice-box li {
            margin-bottom: 10px;
            color: #34495e;
            font-size: 14px;
            line-height: 1.5;
        }

        .advice-box li:last-child {
            margin-bottom: 0;
        }

        .highlight {
            color: #e74c3c;
            font-weight: 600;
        }

        .comment-summary {
            margin: 20px 0;
            padding: 15px;
            background-color: #f0f8ff;
            border-radius: 8px;
            border: 1px solid #d1e6fa;
            animation: fadeIn 0.5s ease-out;
        }
        
        .comment-summary h4 {
            margin-top: 0;
            color: #2980b9;
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        .comment-summary p {
            margin: 8px 0;
            font-size: 14px;
            color: #34495e;
        }
        
        .comment-summary p strong {
            color: #2980b9;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="calculator">
        <h2>ì±Œë¦°ì§€ ë³µë¦¬ ê³„ì‚°ê¸°</h2>
        <p>ë§¤ì¼ íˆ¬ìí•˜ê³  ë³µë¦¬ íš¨ê³¼ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”. ì‘ì€ ìŠµê´€ì´ í° ë³€í™”ë¥¼ ë§Œë“­ë‹ˆë‹¤!</p>
        
        <div class="form-group">
            <label for="principal">ì´ˆê¸° ê¸ˆì•¡ (ì›)</label>
            <input type="number" id="principal" min="0" value="10000">
        </div>
        
        <div class="form-group">
            <label for="rate">ì¼ì¼ ìˆ˜ìµë¥  (%)</label>
            <input type="number" id="rate" min="0" step="0.1" value="0.5">
        </div>
        
        <div class="form-group">
            <label for="time">ì±Œë¦°ì§€ ê¸°ê°„ (ì¼)</label>
            <input type="number" id="time" min="1" max="365" value="30">
        </div>
        
        <div class="form-group">
            <label for="addition">ë§¤ì¼ ì¶”ê°€ ê¸ˆì•¡ (ì›)</label>
            <input type="number" id="addition" min="0" value="1000">
        </div>
        
        <button onclick="calculateDailyCompound()">ì±Œë¦°ì§€ ê²°ê³¼ ë³´ê¸°</button>
        
        <div id="result" class="result">
            <h3>ì±Œë¦°ì§€ ê²°ê³¼</h3>
            <p><strong>ì´ˆê¸° ê¸ˆì•¡:</strong> <span id="initialAmount"></span>ì›</p>
            <p><strong>ì´ íˆ¬ìê¸ˆì•¡:</strong> <span id="totalInvestment"></span>ì›</p>
            <p><strong>ìµœì¢… ê¸ˆì•¡:</strong> <span id="finalAmount"></span>ì›</p>
            <p><strong>ì´ ìˆ˜ìµ:</strong> <span id="totalInterest"></span>ì›</p>
            <p><strong>ì„±ê³µë¥ :</strong> <span id="successRate"></span>%</p>
            
            <div class="progress-container">
                <div id="progressBar" class="progress-bar"></div>
            </div>
            
            <h4>ì¼ë³„ ìƒì„¸ ë‚´ì—­</h4>
            <div class="table-container">
                <table id="resultTable">
                    <thead>
                        <tr>
                            <th>ì¼ì°¨</th>
                            <th>ì›ê¸ˆ</th>
                            <th>ìˆ˜ìµ</th>
                            <th>ëˆ„ì  ê¸ˆì•¡</th>
                            <th>ì¡°ì–¸ & ì½”ë©˜íŠ¸</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
            <button id="commentToggle" class="comment-toggle" onclick="toggleComments()">ì½”ë©˜íŠ¸ ëª¨ì•„ë³´ê¸°</button>
            
            <div class="motivation">
                <p id="motivationText"></p>
            </div>
        </div>
    </div>

    <script>
        function calculateDailyCompound() {
            // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸°
            const principal = parseFloat(document.getElementById('principal').value);
            const rate = parseFloat(document.getElementById('rate').value) / 100;
            const days = parseInt(document.getElementById('time').value);
            const additionalContribution = parseFloat(document.getElementById('addition').value);
            
            // ê³„ì‚°
            let balance = principal;
            const results = [];
            let totalContribution = principal;
            
            for (let day = 1; day <= days; day++) {
                const startDayBalance = balance;
                
                // ì¼ì¼ ë³µë¦¬ ê³„ì‚°
                const dailyInterest = balance * rate;
                balance += dailyInterest;
                
                // ì¶”ê°€ ê¸ˆì•¡
                balance += additionalContribution;
                totalContribution += additionalContribution;
                
                // ì¼ë³„ ì„±ê³¼ ì½”ë©˜íŠ¸ ìƒì„±
                let dailyComment = getDailyComment(day, days, dailyInterest, additionalContribution);
                
                results.push({
                    day,
                    startBalance: startDayBalance,
                    interest: dailyInterest,
                    endBalance: balance,
                    comment: dailyComment
                });
            }
            
            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('initialAmount').textContent = formatNumber(principal);
            document.getElementById('totalInvestment').textContent = formatNumber(totalContribution);
            document.getElementById('finalAmount').textContent = formatNumber(balance);
            
            const totalInterest = balance - totalContribution;
            document.getElementById('totalInterest').textContent = formatNumber(totalInterest);
            
            // ì„±ê³µë¥  ê³„ì‚° (ëª©í‘œ ëŒ€ë¹„)
            const successRate = ((totalInterest) / totalContribution * 100).toFixed(2);
            document.getElementById('successRate').textContent = successRate;
            
            // í”„ë¡œê·¸ë ˆìŠ¤ ë°” ì—…ë°ì´íŠ¸
            const progressBar = document.getElementById('progressBar');
            const progressPercent = Math.min(100, parseFloat(successRate) * 2); // ì‹œê°ì  íš¨ê³¼ë¥¼ ìœ„í•´ 2ë°°ë¡œ
            progressBar.style.width = progressPercent + '%';
            
            // í…Œì´ë¸” ìƒì„±
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';
            
            results.forEach(result => {
                const row = tableBody.insertRow();
                
                // íŠ¹ì • ë§ˆì¼ìŠ¤í†¤ì— ë„ë‹¬í–ˆì„ ë•Œ ê°•ì¡° í‘œì‹œ
                if (result.day % 5 === 0 || result.day === days) {
                    row.className = 'milestone';
                }
                
                row.insertCell(0).textContent = result.day + 'ì¼ì°¨';
                row.insertCell(1).textContent = formatNumber(result.startBalance);
                row.insertCell(2).textContent = formatNumber(result.interest);
                
                // ê¸ˆì•¡ ì…€ ìƒì„±
                const amountCell = row.insertCell(3);
                amountCell.textContent = formatNumber(result.endBalance);
                
                // ì½”ë©˜íŠ¸ ì…€ ì¶”ê°€
                if (result.day % 5 === 0 || result.day === 1 || result.day === days) {
                    const commentCell = row.insertCell(4);
                    commentCell.textContent = result.comment;
                    commentCell.className = 'comment';
                    commentCell.colSpan = 1;
                }
            });
            
            // í…Œì´ë¸” í—¤ë”ì— ì½”ë©˜íŠ¸ ì»¬ëŸ¼ ì¶”ê°€
            const headerRow = document.querySelector('#resultTable thead tr');
            if (headerRow.children.length < 5) {
                const commentHeader = document.createElement('th');
                commentHeader.textContent = 'ì¡°ì–¸ & ì½”ë©˜íŠ¸';
                headerRow.appendChild(commentHeader);
            }
            
            // ìµœì¢… ë™ê¸° ë¶€ì—¬ ë©”ì‹œì§€
            const motivationText = document.getElementById('motivationText');
            if (successRate > 50) {
                motivationText.innerHTML = `<strong>ë†€ë¼ìš´ ì„±ê³¼ì…ë‹ˆë‹¤!</strong> ${days}ì¼ ë™ì•ˆ ì´ <span class="highlight">${formatNumber(totalInterest)}ì›</span>ì˜ ìˆ˜ìµì„ ì–»ì—ˆìŠµë‹ˆë‹¤. ì´ ìŠµê´€ì„ 1ë…„ ë™ì•ˆ ìœ ì§€í•œë‹¤ë©´ ë³µë¦¬ íš¨ê³¼ëŠ” ë”ìš± ì»¤ì§ˆ ê²ƒì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì¬ì •ì  ììœ ë¥¼ í–¥í•œ ì—¬ì •ì´ ìˆœì¡°ë¡­ê²Œ ì§„í–‰ë˜ê³  ìˆìŠµë‹ˆë‹¤!`;
            } else if (successRate > 20) {
                motivationText.innerHTML = `<strong>ì¢‹ì€ ì§„ì „ì…ë‹ˆë‹¤!</strong> ${days}ì¼ ë§Œì— <span class="highlight">${formatNumber(totalInterest)}ì›</span>ì˜ ìˆ˜ìµì„ ì–»ì—ˆìŠµë‹ˆë‹¤. ì§€ê¸ˆì²˜ëŸ¼ ê¾¸ì¤€íˆ íˆ¬ìí•˜ë©´ì„œ íˆ¬ì ê¸ˆì•¡ì„ ì ì§„ì ìœ¼ë¡œ ëŠ˜ë ¤ë³´ëŠ” ê²ƒë„ ì¢‹ì€ ì „ëµì…ë‹ˆë‹¤. ë³µë¦¬ì˜ í˜ì€ ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ê°•ë ¥í•´ì§‘ë‹ˆë‹¤.`;
            } else {
                motivationText.innerHTML = `<strong>í›Œë¥­í•œ ì‹œì‘ì…ë‹ˆë‹¤!</strong> ë¹„ë¡ ${formatNumber(totalInterest)}ì›ì˜ ìˆ˜ìµì´ í¬ê²Œ ëŠê»´ì§€ì§€ ì•Šì„ ìˆ˜ ìˆì§€ë§Œ, ê°€ì¥ ì¤‘ìš”í•œ ê²ƒì€ íˆ¬ì ìŠµê´€ì„ í˜•ì„±í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. íˆ¬ì ê¸ˆì•¡ë³´ë‹¤ íˆ¬ìì˜ ì¼ê´€ì„±ì´ ì¥ê¸°ì ìœ¼ë¡œ ë” ì¤‘ìš”í•©ë‹ˆë‹¤. ê³„ì† ìœ ì§€í•˜ì„¸ìš”!`;
            }
            
            // ì¶”ê°€ ì¡°ì–¸ ì œê³µ
            const adviceBox = document.createElement('div');
            adviceBox.className = 'advice-box';
            adviceBox.innerHTML = getFinalAdvice(totalInterest, successRate, days, additionalContribution);
            
            // ê¸°ì¡´ advice-boxê°€ ìˆìœ¼ë©´ ì œê±°
            const existingAdviceBox = document.querySelector('.advice-box');
            if (existingAdviceBox) {
                existingAdviceBox.remove();
            }
            
            // ê²°ê³¼ ì˜ì—­ì— ì¡°ì–¸ ì¶”ê°€
            document.getElementById('result').appendChild(adviceBox);
            
            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('result').style.display = 'block';
        }

        // ì¼ë³„ ì½”ë©˜íŠ¸ ìƒì„± í•¨ìˆ˜
        function getDailyComment(day, totalDays, dailyInterest, dailyContribution) {
            // ì²«ì§¸ ë‚ 
            if (day === 1) {
                return "ğŸ‘‹ ì²«ë‚ ì…ë‹ˆë‹¤! ì‘ì€ ì‹œì‘ì´ ëª¨ì—¬ í° ì„±ì·¨ë¥¼ ì´ë£¹ë‹ˆë‹¤.";
            }
            
            // 5ì¼ ë‹¨ìœ„ ë§ˆì¼ìŠ¤í†¤
            if (day % 5 === 0) {
                if (day === 5) {
                    return "âœ¨ 5ì¼ ì—°ì† ë‹¬ì„±! ìŠµê´€ì´ í˜•ì„±ë˜ê¸° ì‹œì‘í–ˆìŠµë‹ˆë‹¤.";
                } else if (day === 10) {
                    return "ğŸ”¥ 10ì¼ ì—°ì†! ì´ì œ ë³µë¦¬ íš¨ê³¼ê°€ ë‚˜íƒ€ë‚˜ê¸° ì‹œì‘í•©ë‹ˆë‹¤.";
                } else if (day === 15) {
                    return "ğŸ’ª 15ì¼ ì ˆë°˜ì„ ë„˜ì—ˆìŠµë‹ˆë‹¤! ê³„ì† ìœ ì§€í•˜ì„¸ìš”.";
                } else if (day === 20) {
                    return "â­ 20ì¼ì°¨! ëŒ€ë‹¨í•©ë‹ˆë‹¤. ì´ë¯¸ ìƒìœ„ 20%ì˜ ì˜ì§€ë ¥ì…ë‹ˆë‹¤.";
                } else if (day === 25) {
                    return "ğŸ¯ 25ì¼! ê±°ì˜ ë‹¤ ì™”ì–´ìš”. ì¸ë‚´ì‹¬ì´ ê²°ì‹¤ì„ ë§ºê³  ìˆìŠµë‹ˆë‹¤.";
                } else if (day === 30) {
                    return "ğŸ† 30ì¼ ì™„ì„±! í•œ ë‹¬ì˜ ë…¸ë ¥ì´ ëª¨ì˜€ìŠµë‹ˆë‹¤. ë‹¤ìŒ ë‹¬ì—ë„ ê³„ì†í•˜ì„¸ìš”!";
                } else if (day % 10 === 0) {
                    return `ğŸ“Š ${day}ì¼ì°¨ ë‹¬ì„±! ê¾¸ì¤€í•¨ì´ ë‹¹ì‹ ì˜ ìì‚°ì´ ë˜ê³  ìˆìŠµë‹ˆë‹¤.`;
                } else {
                    return `ğŸŒ± ${day}ì¼ì°¨ ë‹¬ì„±! ë³µë¦¬ì˜ ì”¨ì•—ì´ ìë¼ê³  ìˆìŠµë‹ˆë‹¤.`;
                }
            }
            
            // ë§ˆì§€ë§‰ ë‚ 
            if (day === totalDays && day !== 30 && day % 5 !== 0) {
                return `ğŸŠ ì¶•í•˜í•©ë‹ˆë‹¤! ${totalDays}ì¼ ì±Œë¦°ì§€ë¥¼ ì™„ìˆ˜í–ˆìŠµë‹ˆë‹¤!`;
            }
            
            // ì¼ë°˜ì ì¸ ë‚ ì—ëŠ” ì½”ë©˜íŠ¸ ìƒëµ (í…Œì´ë¸” ê°„ê²°ì„± ìœ ì§€)
            return "";
        }

        // ìµœì¢… ì¡°ì–¸ ìƒì„± í•¨ìˆ˜
        function getFinalAdvice(totalInterest, successRate, days, dailyContribution) {
            const annualProjection = (totalInterest / days * 365).toFixed(0);
            const adviceList = [];
            
            // í•µì‹¬ ì¡°ì–¸ ìƒì„±
            if (successRate < 20) {
                adviceList.push("ğŸ“ˆ <strong>ìˆ˜ìµë¥  ë†’ì´ê¸°</strong>: í˜„ì¬ ìˆ˜ìµë¥ ì´ ë‚®ìŠµë‹ˆë‹¤. ë‹¤ì–‘í•œ íˆ¬ì ìˆ˜ë‹¨ì˜ í‰ê·  ìˆ˜ìµë¥ ì„ ì¡°ì‚¬í•´ë³´ì„¸ìš”.");
            }
            
            if (dailyContribution < 5000) {
                adviceList.push("ğŸ’° <strong>íˆ¬ìê¸ˆì•¡ ëŠ˜ë¦¬ê¸°</strong>: ê°€ëŠ¥í•˜ë‹¤ë©´ ì¼ì¼ íˆ¬ìê¸ˆì•¡ì„ ì ì§„ì ìœ¼ë¡œ ëŠ˜ë ¤ë³´ì„¸ìš”. í•œ ë‹¬ ì»¤í”¼ í•œ ì” ì¤„ì´ë©´ ì•½ 5,000ì›ì„ ë” íˆ¬ìí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");
            }
            
            if (days < 30) {
                adviceList.push("â±ï¸ <strong>ë” ê¸´ ê¸°ê°„ìœ¼ë¡œ</strong>: ì±Œë¦°ì§€ ê¸°ê°„ì„ 30ì¼, 90ì¼, 365ì¼ ë“±ìœ¼ë¡œ ëŠ˜ë ¤ë³´ì„¸ìš”. ë³µë¦¬ì˜ ì§„ì •í•œ íš¨ê³¼ëŠ” ì¥ê¸°ê°„ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤.");
            }
            
            // ê³µí†µ ì¡°ì–¸
            adviceList.push(`ğŸ’¡ <strong>ì—°ê°„ ì˜ˆìƒ ìˆ˜ìµ</strong>: í˜„ì¬ í˜ì´ìŠ¤ë¥¼ 1ë…„ê°„ ìœ ì§€í•˜ë©´ ì•½ ${formatNumber(annualProjection)}ì›ì˜ ì¶”ê°€ ìˆ˜ìµì„ ê¸°ëŒ€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`);
            
            // ê³ ê¸‰ ì¡°ì–¸
            if (successRate > 30) {
                adviceList.push("ğŸ”„ <strong>ì¬íˆ¬ì ì „ëµ</strong>: ìˆ˜ìµê¸ˆì„ ì¶”ê°€ë¡œ ì¬íˆ¬ìí•˜ë©´ ë³µë¦¬ íš¨ê³¼ê°€ ë”ìš± ì»¤ì§‘ë‹ˆë‹¤. ìˆ˜ìµì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ì¼ë¶€ë¥¼ ì¶”ê°€ íˆ¬ìí•´ë³´ì„¸ìš”.");
            }
            
            // ì¡°ì–¸ HTML ìƒì„±
            let adviceHTML = "<h4>ğŸ’¼ ë§ì¶¤ íˆ¬ì ì¡°ì–¸</h4><ul>";
            adviceList.forEach(advice => {
                adviceHTML += `<li>${advice}</li>`;
            });
            adviceHTML += "</ul>";
            
            return adviceHTML;
        }

        // ì½”ë©˜íŠ¸ ëª¨ì•„ë³´ê¸° í•¨ìˆ˜
        function toggleComments() {
            const commentToggle = document.getElementById('commentToggle');
            const allComments = [];
            
            // ëª¨ë“  ì¼ë³„ ì½”ë©˜íŠ¸ ìˆ˜ì§‘
            document.querySelectorAll('#tableBody tr').forEach(row => {
                const day = row.cells[0].textContent;
                if (row.classList.contains('milestone') || day === '1ì¼ì°¨' || day === document.getElementById('time').value + 'ì¼ì°¨') {
                    const comment = getDailyComment(
                        parseInt(day), 
                        parseInt(document.getElementById('time').value),
                        0, 0
                    );
                    if (comment) {
                        allComments.push(`<p><strong>${day}</strong>: ${comment}</p>`);
                    }
                }
            });
            
            // ì´ë¯¸ í‘œì‹œëœ ì½”ë©˜íŠ¸ ëª¨ìŒì´ ìˆëŠ”ì§€ í™•ì¸
            const existingCommentSummary = document.getElementById('commentSummary');
            
            if (existingCommentSummary) {
                // ì´ë¯¸ í‘œì‹œëœ ìƒíƒœë¼ë©´ ì œê±°
                existingCommentSummary.remove();
                commentToggle.textContent = 'ì½”ë©˜íŠ¸ ëª¨ì•„ë³´ê¸°';
            } else {
                // ì•„ì§ í‘œì‹œë˜ì§€ ì•Šì•˜ë‹¤ë©´ ìƒˆë¡œ ìƒì„±
                const commentSummary = document.createElement('div');
                commentSummary.id = 'commentSummary';
                commentSummary.className = 'comment-summary';
                commentSummary.innerHTML = `
                    <h4>ğŸ“Œ ì±Œë¦°ì§€ ì£¼ìš” ì½”ë©˜íŠ¸</h4>
                    ${allComments.join('')}
                `;
                
                // ê²°ê³¼ ì˜ì—­ì— ì‚½ì…
                document.querySelector('.motivation').after(commentSummary);
                commentToggle.textContent = 'ì½”ë©˜íŠ¸ ìˆ¨ê¸°ê¸°';
            }
        }

        // ìˆ«ì í˜•ì‹í™” í•¨ìˆ˜
        function formatNumber(number) {
            return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }
    </script>
</body>
</html>
